<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Portfolio</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <style>
      /* Splash screen inicial que aparece antes do Angular carregar */
      #initial-splash {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.85);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 1;
        transition: opacity 0.3s ease-out;
      }

      #initial-splash::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.1) 0%,
          rgba(255, 255, 255, 0.05) 25%,
          rgba(0, 0, 0, 0.1) 50%,
          rgba(255, 255, 255, 0.02) 75%,
          rgba(0, 0, 0, 0.05) 100%
        );
        pointer-events: none;
      }

      .initial-grid-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: grid;
        grid-template-columns: repeat(20, 1fr);
        grid-template-rows: repeat(10, 1fr);
        gap: 1px;
        padding: 5px;
      }

      .initial-grid-item {
        position: relative;
        border-radius: 2px;
        opacity: 1;
        overflow: hidden;
        animation: initialColorChange 3s infinite linear;
      }

      .initial-splash-logo {
        color: #e4e4e7;
        font-size: 2rem;
        font-weight: 200;
        letter-spacing: 6px;
        text-transform: uppercase;
        opacity: 1;
        z-index: 10001;
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.1),
          0 2px 4px rgba(0, 0, 0, 0.5);
        font-family: "Roboto", sans-serif;
      }

      @keyframes initialColorChange {
        0% {
          background-color: #1a1a1a;
        }
        10% {
          background-color: #2d2d2d;
        }
        20% {
          background-color: #404040;
        }
        30% {
          background-color: #525252;
        }
        40% {
          background-color: #666666;
        }
        50% {
          background-color: #8a8a8a;
        }
        60% {
          background-color: #a3a3a3;
        }
        70% {
          background-color: #cccccc;
        }
        80% {
          background-color: #e5e5e5;
        }
        90% {
          background-color: #f0f0f0;
        }
        100% {
          background-color: #1a1a1a;
        }
      }

      /* Esconde quando o Angular carrega */
      #initial-splash.hide {
        opacity: 0;
        pointer-events: none;
      }

      /* Remove completamente após a transição */
      #initial-splash.removed {
        display: none;
      }
    </style>
  </head>

  <body>
    <!-- Splash screen inicial que aparece imediatamente -->
    <div id="initial-splash">
      <div class="initial-grid-container" id="initial-grid">
        <!-- Grid será gerado por JavaScript -->
      </div>
      <div class="initial-splash-logo">PORTFOLIO</div>
    </div>

    <app-root></app-root>

    <script>
      // Gera o grid inicial imediatamente
      (function () {
        const gridContainer = document.getElementById("initial-grid");
        const colors = [
          "#0a0a0a",
          "#111111",
          "#181818",
          "#1e1e1e",
          "#252525",
          "#2c2c2c",
          "#333333",
          "#3a3a3a",
          "#414141",
          "#484848",
          "#4f4f4f",
          "#565656",
          "#5d5d5d",
          "#646464",
          "#6b6b6b",
          "#727272",
          "#797979",
          "#808080",
          "#878787",
          "#8e8e8e",
          "#959595",
          "#9c9c9c",
          "#a3a3a3",
          "#aaaaaa",
          "#b1b1b1",
          "#b8b8b8",
          "#bfbfbf",
          "#c6c6c6",
          "#cdcdcd",
          "#d4d4d4",
          "#dbdbdb",
          "#e2e2e2",
          "#e9e9e9",
          "#f0f0f0",
          "#f7f7f7",
          "#fefefe",
        ];

        for (let i = 0; i < 200; i++) {
          const gridItem = document.createElement("div");
          gridItem.className = "initial-grid-item";
          const color = colors[Math.floor(Math.random() * colors.length)];
          gridItem.style.backgroundColor = color;
          gridItem.style.animationDelay = Math.random() * 3 + "s";
          gridContainer.appendChild(gridItem);
        }

        // Função para remover a splash screen inicial quando o Angular carregar
        window.removeInitialSplash = function () {
          const splash = document.getElementById("initial-splash");
          if (splash) {
            splash.classList.add("hide");
            setTimeout(() => {
              splash.classList.add("removed");
            }, 300);
          }
        };
      })();
    </script>
  </body>
</html>
